<aside class="sidebar">
    <!-- 搜索框 -->
    <div class="sidebar-widget">
        <h5>搜索文章</h5>
        <form class="search-form" id="sidebar-search-form">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="输入关键词..." id="sidebar-search-input">
                <button class="btn btn-outline-primary" type="submit">
                    <i class="bi bi-search"></i>
                </button>
            </div>
        </form>
    </div>

    <!-- 作者信息 -->
    <div class="sidebar-widget">
        <h5>关于作者</h5>
        <div class="author-info">
            <img src="{{ '/assets/images/avatar.jpg' | relative_url }}" alt="{{ site.author }}" class="author-avatar">
            <h6>{{ site.author }}</h6>
            <p>{{ site.description }}</p>
            <div class="author-social">
                {% if site.social.github %}
                <a href="https://github.com/{{ site.social.github }}" target="_blank">
                    <i class="bi bi-github"></i>
                </a>
                {% endif %}
                {% if site.social.email %}
                <a href="mailto:{{ site.social.email }}">
                    <i class="bi bi-envelope"></i>
                </a>
                {% endif %}
            </div>
        </div>
    </div>

    <!-- 分类 -->
    <div class="sidebar-widget">
        <h5>文章分类</h5>
        <ul class="category-list">
            {% assign categories = site.categories | sort %}
            {% for category in categories %}
            <li>
                <a href="{{ '/category/' | append: category[0] | relative_url }}">
                    {{ category[0] }}
                    <span class="badge bg-primary float-end">{{ category[1].size }}</span>
                </a>
            </li>
            {% endfor %}
        </ul>
    </div>

    <!-- 标签云 -->
    <div class="sidebar-widget">
        <h5>标签云</h5>
        <div class="tag-cloud">
            {% assign tags = site.tags | sort %}
            {% for tag in tags %}
            <a href="{{ '/tag/' | append: tag[0] | relative_url }}" class="tag-link" style="font-size: {{ tag[1].size | times: 2 | plus: 12 }}px;">
                {{ tag[0] }}
            </a>
            {% endfor %}
        </div>
    </div>

    <!-- 热门文章 -->
    <div class="sidebar-widget">
        <h5>热门文章</h5>
        <ul class="popular-posts">
            {% assign popular_posts = site.posts | sort: 'date' | reverse | limit: 5 %}
            {% for post in popular_posts %}
            <li>
                <a href="{{ post.url | relative_url }}">
                    {% if post.image %}
                    <img src="{{ post.image | relative_url }}" alt="{{ post.title }}" class="popular-post-image">
                    {% endif %}
                    <div class="popular-post-info">
                        <h6>{{ post.title }}</h6>
                        <small class="text-muted">{{ post.date | date: "%Y-%m-%d" }}</small>
                    </div>
                </a>
            </li>
            {% endfor %}
        </ul>
    </div>

    <!-- 最新评论 -->
    <div class="sidebar-widget">
        <h5>最新评论</h5>
        <div class="recent-comments">
            <p class="text-muted">暂无评论</p>
        </div>
    </div>

    <!-- 订阅 -->
    <div class="sidebar-widget">
        <h5>订阅更新</h5>
        <p>订阅我的博客，获取最新文章通知</p>
        <form class="newsletter-form" id="sidebar-newsletter-form">
            <div class="input-group">
                <input type="email" class="form-control" placeholder="输入邮箱地址" required>
                <button class="btn btn-primary" type="submit">订阅</button>
            </div>
        </form>
    </div>
</aside> 